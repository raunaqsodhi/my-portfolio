"use strict";(self.webpackChunkcircle=self.webpackChunkcircle||[]).push([["1618"],{73123:function(e,t,r){r.r(t),r.d(t,{default:()=>f});var n=r(51527),o=r(72530);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var l="form-control--has-error-v2",u="invisible",f=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t,n;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return t=r,n=arguments,t=i(t),a(e=function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,c()?Reflect.construct(t,n||[],i(this).constructor):t.apply(this,n)),"onFieldKeyUp",function(){var t=e.checkPasswordAreEqual(),r=e.checkPasswordFormat();e.updateFieldsErrorClasses({passwordHasError:!r,confirmationHasError:!t})}),a(e,"checkPasswordFormat",function(){return!e.passwordField.value||o.zU.test(e.passwordField.value)}),a(e,"checkPasswordAreEqual",function(){return e.passwordField.value===e.passwordConfirmationField.value}),a(e,"updateFieldsErrorClasses",function(t){var r=t.passwordHasError,n=void 0!==r&&r,o=t.confirmationHasError,a=void 0!==o&&o,i=e.passwordField,s=e.passwordConfirmationField,c=e.passwordFormatError,f=e.passwordConfirmationError;n&&i.value.length>0?(i.classList.add(l),c.classList.remove(u)):(i.classList.remove(l),c.classList.add(u)),a&&s.value.length>0?(s.classList.add(l),f.classList.remove(u)):(s.classList.remove(l),f.classList.add(u)),n||a?e.saveButton.setAttribute("disabled",!0):e.saveButton.removeAttribute("disabled")}),e}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&s(r,e),t=[{key:"connect",value:function(){this.passwordField=document.getElementById("user_password"),this.passwordConfirmationField=document.getElementById("user_password_confirmation"),this.saveButton=document.getElementById("save-button"),this.passwordField.addEventListener("keyup",this.onFieldKeyUp),this.passwordConfirmationField.addEventListener("keyup",this.onFieldKeyUp),this.passwordFormatError=document.getElementById("password-format-error"),this.passwordConfirmationError=document.getElementById("password-confirmation-error")}},{key:"disconnect",value:function(){this.passwordField.removeEventListener("keyup",this.onPasswordFieldKey),this.passwordConfirmationField.removeEventListener("keyup",this.onPasswordConfirmFieldKeyUp)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(n.Qr)},21793:function(e,t,r){r.r(t),r.d(t,{default:()=>l});var n,o,a=r(51527);function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var l=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=i(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,c()?Reflect.construct(e,t||[],i(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&s(r,e),t=[{key:"goBack",value:function(e){e.preventDefault();var t=this.element.dataset.fallbackUrl||"/",r=window.location.href;window.location.href=t,setTimeout(function(){window.location.href==r&&(window.location.href=t)},500)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(a.Qr);o=[],(n="targets")in l?Object.defineProperty(l,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[n]=o},93736:function(e,t,r){r.r(t),r.d(t,{default:()=>f});var n,o,a=r(51527);function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var l="group-open",u="group-closed",f=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=i(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,c()?Reflect.construct(e,t||[],i(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&s(r,e),t=[{key:"connect",value:function(){"true"==this.element.dataset.communityMember&&this.blockChildrenTarget.childElementCount>0?"true"==this.element.dataset.collapsed?(this.triangleTarget.classList.remove(l),this.triangleTarget.classList.add(u)):(this.triangleTarget.classList.add(l),this.triangleTarget.classList.remove(u)):(this.triangleTarget.classList.remove(l),this.triangleTarget.classList.add(u))}},{key:"toggleChildrenVisibility",value:function(e){e.preventDefault(),this.blockChildrenTarget.childElementCount>0&&"true"==this.element.dataset.communityMember&&(this.blockChildrenTarget.classList.toggle("hidden"),this.blockChildrenTarget.classList.contains("hidden")?(this.triangleTarget.classList.remove(l),this.triangleTarget.classList.add(u)):(this.triangleTarget.classList.add(l),this.triangleTarget.classList.remove(u)),this.postToggleEndpoint())}},{key:"postToggleEndpoint",value:function(){fetch(this.element.dataset.collapsibleUrl,{body:JSON.stringify(),method:"POST",dataType:"script",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(a.Qr);o=["trigger","blockChildren","triangle"],(n="targets")in f?Object.defineProperty(f,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):f[n]=o},98206:function(e,t,r){r.r(t),r.d(t,{default:()=>f});var n,o,a=r(94845),i=r(51527),s=r(72453);function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}var f=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=c(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,u()?Reflect.construct(e,t||[],c(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&l(r,e),t=[{key:"connect",value:function(){this.element.dataset.timeSelect?(0,a.default)(this.element,{enableTime:!0,dateFormat:"F j, Y G:i K",maxDate:"today"}):(0,a.default)(this.element,{mode:"range",dateFormat:"j M Y",maxDate:"today",onClose:(function(e){if("URLSearchParams"in window){var t=new URLSearchParams(window.location.search);t.set(this.element.dataset.minDateParam,(0,s.L)(e[0]).replace(/\//g,"-")),t.set(this.element.dataset.maxDateParam,(0,s.L)(e[1]).replace(/\//g,"-")),window.location.search=t.toString()}}).bind(this)})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(i.Qr);o=["dateInput"],(n="targets")in f?Object.defineProperty(f,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):f[n]=o},96735:function(e,t,r){r.r(t),r.d(t,{default:()=>l});var n=r(51527),o=r(93199);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var l=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=i(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,c()?Reflect.construct(e,t||[],i(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&s(r,e),t=[{key:"connect",value:function(){this.toggleClass=this.data.get("class")||"hidden"}},{key:"toggle",value:function(){this.menuTarget.classList.toggle(this.toggleClass)}},{key:"show",value:function(){this.menuTarget.classList.remove(this.toggleClass)}},{key:"hide",value:function(e){!1!==this.element.contains(e.target)||this.menuTarget.classList.contains(this.toggleClass)||this.menuTarget.classList.add(this.toggleClass)}},{key:"hideModal",value:function(e){this.menuTarget.firstElementChild.contains(e.target)||this.menuTarget.classList.add(this.toggleClass)}},{key:"optionSelect",value:function(e){var t=this,r=a({},this.element.dataset.fieldName,e.target.dataset.sort);(0,o.t5)(this.element.dataset.onOptionChangeUrl,{method:"PATCH",body:JSON.stringify(r)}).then(function(){window.location=t.element.dataset.onSuccessUrl})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(n.Qr);a(l,"targets",["menu"])},87818:function(e,t,r){r.r(t),r.d(t,{default:()=>c});var n=r(76030),o=r(51527);function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}var c=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=a(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,s()?Reflect.construct(e,t||[],a(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&i(r,e),t=[{key:"connect",value:function(){var e=this,t=document.querySelector(this.data.get("height"));t&&(this.element.style.height="".concat(t.clientHeight,"px"));var r=this.element.clientHeight,o=location.href.split("?")[0];window.history.pushState("object",document.title,o),(0,n.Z)({targets:this.element,translateY:[{value:-r,duration:0},{value:0,duration:400,easing:"easeOutElastic"},{value:-r,duration:350,delay:2500,easing:"easeInQuad"}],complete:function(){try{e.element.parentNode.removeChild(e.element)}catch(e){console.error("FlashController - Failed to remove element:",e)}}})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(o.Qr)},66677:function(e,t,r){r.r(t),r.d(t,{default:()=>f});var n,o,a=r(31304),i=r.n(a),s=r(51527);function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}var f=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=c(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,u()?Reflect.construct(e,t||[],c(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&l(r,e),t=[{key:"previewImage",value:function(){var e=this.fileTarget.files[0],t=this.previewTarget,r=new FileReader;t.style.display="block",r.onloadend=function(){t.src=r.result},e?r.readAsDataURL(e):t.src="",this.buttonTarget.innerHTML=this.buttonTarget.dataset.buttonText}},{key:"nameToSlug",value:function(){this.outputSlugTarget.value=i()(this.inputNameTarget.value,{replacement:"-",remove:/[*+~.;()'"!:@]/g,lower:!0})}},{key:"selfToSlug",value:function(){this.outputSlugTarget.value=i()(this.outputSlugTarget.value,{replacement:"-",remove:/[*+~.;()'"!:@]/g,lower:!0})}},{key:"deleteImage",value:function(e){var t=this;e.preventDefault(),fetch(this.element.dataset.deleteImagePath,{method:"DELETE",dataType:"script",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.success&&(t.previewTarget.src="",t.previewTarget.classList.add("hidden"),t.removeImageButtonTarget.remove(),t.buttonTarget.innerHTML=t.element.dataset.btnUpdateText,t.buttonTarget.parentElement.classList.remove("btn-half"),t.buttonTarget.parentElement.classList.add("btn-full"))})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(s.Qr);o=["preview","file","inputName","outputSlug","button","removeImageButton"],(n="targets")in f?Object.defineProperty(f,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):f[n]=o},1508:function(e,t,r){var n=r(51527),o=r(99074),a=n.Mx.start(),i=r(32196);a.load((0,o.X)(i))},48366:function(e,t,r){r.r(t),r.d(t,{default:()=>f});var n,o,a=r(29933),i=r.n(a),s=r(51527);function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}var f=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=c(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,u()?Reflect.construct(e,t||[],c(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&l(r,e),t=[{key:"connect",value:function(){var e=this;this.slideout=new(i())({touch:!1,panel:this.panelTarget,menu:this.menuTarget,padding:window.outerWidth-50,tolerance:70}),window.mobileDrawer=this.slideout,this.menuZIndex=this.menuTarget.style.zIndex;var t=function(t){t&&t.preventDefault(),e.slideout.close()};this.slideout.on("beforeopen",function(){this.panel.classList.add("panel-open")}).on("open",function(){this.panel.addEventListener("click",t)}).on("beforeclose",function(){this.panel.classList.remove("panel-open")}).on("close",function(){this.panel.removeEventListener("click",t)})}},{key:"disconnect",value:function(){this.slideout.destroy()}},{key:"onOverlayOpen",value:function(e){e.preventDefault(),this.menuTarget.style.zIndex=1e3}},{key:"onOverlayClose",value:function(e){e.preventDefault(),this.menuTarget.style.zIndex=this.menuZIndex,this.close()}},{key:"close",value:function(e){e&&e.preventDefault(),this.slideout.close()}},{key:"toggle",value:function(e){e.preventDefault(),this.slideout.toggle()}},{key:"open",value:function(e){e.preventDefault(),this.slideout.open()}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(s.Qr);o=["menu","panel"],(n="targets")in f?Object.defineProperty(f,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):f[n]=o},14486:function(e,t,r){r.r(t),r.d(t,{default:()=>u});var n,o,a=r(37338),i=r(51527);function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}var u=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=s(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,l()?Reflect.construct(e,t||[],s(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&c(r,e),t=[{key:"connect",value:function(){new a.Z({select:this.slimSelectTarget,placeholder:this.element.dataset.placeholder,searchText:this.element.dataset.searchText,searchPlaceholder:this.element.dataset.searchPlaceholder?this.element.dataset.searchPlaceholder:"",showContent:this.element.dataset.direction?this.element.dataset.direction:"up",addable:(function(e){return!!this.element.dataset.addable&&{text:e,value:e}}).bind(this),allowDeselect:!0,closeOnSelect:!!this.element.dataset.disableAutoReopen&&this.element.dataset.disableAutoReopen,limit:!!this.element.dataset.limit&&this.element.dataset.limit})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(i.Qr);o=["slimSelect"],(n="targets")in u?Object.defineProperty(u,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):u[n]=o},2713:function(e,t,r){r.r(t),r.d(t,{default:()=>c});var n=r(51527);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}var c=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t,n;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return t=r,n=arguments,t=a(t),o(e=function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,s()?Reflect.construct(t,n||[],a(this).constructor):t.apply(this,n)),"open",function(t){t&&t.preventDefault(),e.lockScroll(),document.body.insertAdjacentHTML("beforeend",e._modalContentHTML()),e.modal=document.querySelector("#".concat(e.modalContainerId)),e.modal.querySelectorAll("[data-action='click->popup#close']").forEach(function(t){t.addEventListener("click",e.close)}),e.data.get("disable-backdrop")||(document.body.insertAdjacentHTML("beforeend",e.backgroundHtml),e.background=document.querySelector("#".concat(e.backgroundId)))}),o(e,"closeBackground",function(t){if(e.modal){var r=document.querySelector(".modal__inner");r&&e.allowBackgroundClose&&e.modal.contains(t.target)&&!r.contains(t.target)&&!e.element.contains(t.target)&&e.close(t)}}),o(e,"close",function(t){(e.background||e.modal)&&(t.preventDefault(),e.unlockScroll(),e.background&&e.background.remove(),e.modal&&e.modal.remove())}),o(e,"closeWithKeyboard",function(t){27!==t.keyCode||e.containerTarget.classList.contains(e.toggleClass)||e.close(t)}),o(e,"lockScroll",function(){var t=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight="".concat(t,"px"),e.saveScrollPosition(),document.body.classList.add("fixed","inset-x-0","overflow-hidden"),document.body.style.top="-".concat(e.scrollPosition,"px")}),o(e,"unlockScroll",function(){document.body.style.paddingRight=null,document.body.classList.remove("fixed","inset-x-0","overflow-hidden"),e.restoreScrollPosition(),document.body.style.top=null}),o(e,"saveScrollPosition",function(){e.scrollPosition=window.pageYOffset||document.body.scrollTop}),o(e,"restoreScrollPosition",function(){document.documentElement.scrollTop=e.scrollPosition}),e}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&i(r,e),t=[{key:"connect",value:function(){this.toggleClass="hidden",this.backgroundHtml=this._backgroundHTML(),this.backgroundId="modal-background",this.modalContainerId="modal-container-",this.modalInnerHtml=this.containerTarget.innerHTML,this.containerTarget.innerHTML="",this.allowBackgroundClose="true"===(this.data.get("allowBackgroundClose")||"true"),this.element.dataset.open&&this.open(),window.addEventListener("click",this.closeBackground)}},{key:"disconnect",value:function(){window.removeEventListener("click",this.closeBackground)}},{key:"_backgroundHTML",value:function(){return'<div id="modal-background" class="modal-background"></div>'}},{key:"_modalContentHTML",value:function(){return'<div id="'.concat(this.modalContainerId,'" class="modal-container">').concat(this.modalInnerHtml,"</div>")}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(n.Qr);o(c,"targets",["container"])},38159:function(e,t,r){r.r(t),r.d(t,{default:()=>V});var n=r(67294),o=r(73935),a=r(51527),i=r(16252),s=r(24244),c=r(56833),l=r(61224),u=r(10408),f=r(3907),d=r(54427),p=r(31398),h=r(55673),y=r(8974),g=r(79650),b=r(15702),v=r(63436),m=r(45285),w=r(3562),O=r(88656),T=r(13381),P=r(46401),_=r(46407),k=r(23776),j=r(83665),E=r(55017),S=r(60142),L=r(5473),C=r(25878),R=r(27400),B=r(88466),x=r(72019),F=r(14294),D=r(7095),A=r(23627),I=r(9955);function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(N=function(){return!!e})()}var Q={RichTextInput:j.Z,CommunitySwitcherWithProviders:c.P,HomePage:function(){return null},WelcomeBanner:function(){return null},HomeRightSidebar:function(){return null},OpenQPModal:_.h,QPEditPost:k.R,LandingPageSettings:p.Q,CookieStatus:l.O,CreateSpaceButton:C.l,EditSpaceButton:R.c,PostsPostViewList:T.PostViewList,SearchV2:f._,"Spaces.New":B.J,"Posts.Show":P.Show,MemberDirectory:h.MemberDirectory,App:s.g,CommunityMemberSelect:x.N,PaywallPrices:g.O,Checkout:O.h,AppBarWrapper:D.R,StandaloneTipTapBlockEditor:(0,F.L)(A.R),PaywallsAdmin:w.u,PaywallGroupsAdmin:y.S,PaywallSubscriptionsAdminIndex:m.y,PaywallChargesAdminIndex:v.y,BulkImportTrialPaywallSubscriptionFormRailsView:b.y,InvitationLinkInformation:d.w,DebugSessions:u.C,VideoPlayer:I.Y,LiveStreamSettings:S.L,AnalyticsHeader:E.X,SsoInfoMessage:L.T,BotBuilderApp:i.F},U=function(e){if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}},V=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=M(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,N()?Reflect.construct(e,t||[],M(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&H(r,e),t=[{key:"connect",value:function(){if(e=this.element,null!=(t=HTMLElement)&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!t[Symbol.hasInstance](e):!(e instanceof t))return void console.error("Error: element is not an HTMLElement");var e,t,r=this.element.dataset,a=r.component,i=U(r.props),s=a?Q[a]:null;if(!s)return void console.error("Error: invalid component - ".concat(a));o.render(n.createElement(s,i),this.element)}},{key:"disconnect",value:function(){o.unmountComponentAtNode(this.element)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(a.Qr)},99588:function(e,t,r){r.r(t),r.d(t,{default:()=>s});var n=r(51527);function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i=function(){return!!e})()}var s=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=o(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,i()?Reflect.construct(e,t||[],o(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&a(r,e),t=[{key:"submitForm",value:function(e){"production"===window.RAILS_ENV||"staging"===window.RAILS_ENV?(e.preventDefault(),grecaptcha.execute()):this.formTarget.submit()}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(n.Qr)},78413:function(e,t,r){r.r(t),r.d(t,{default:()=>l});var n,o,a=r(51527);function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var l=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=i(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,c()?Reflect.construct(e,t||[],i(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&s(r,e),t=[{key:"connect",value:function(){this.excludeChildClass=["block-header","block-header__title","block-header__actions","block--space-group"]}},{key:"dragstart",value:function(e){this.excludeChildClass.some(function(t){return e.target.classList.contains(t)})?this.currentTarget=null:this.currentTarget=e.target,this.currentTarget.classList.add("selected"),e.dataTransfer.effectAllowed="move"}},{key:"dragover",value:function(e){if(e.preventDefault(),!this.currentTarget)return!0;var t=e.target.closest(".nav-link");return this.draggableTargets.indexOf(e.target)<this.draggableTargets.indexOf(this.currentTarget)?t.classList.add("drag-over-top"):t.classList.add("drag-over-bottom"),!0}},{key:"dragenter",value:function(e){e.preventDefault()}},{key:"dragleave",value:function(e){e.preventDefault();var t=e.target.closest(".nav-link");t.classList.remove("drag-over-top"),t.classList.remove("drag-over-bottom")}},{key:"drop",value:function(e){if(!this.currentTarget)return!0;var t=e.target.closest(".nav-link"),r=this.currentTarget;if(!t||!r)return!0;var n=t.compareDocumentPosition(r);4&n?t.insertAdjacentElement("beforebegin",r):2&n&&t.insertAdjacentElement("afterend",r),e.preventDefault()}},{key:"dragend",value:function(){var e=[];if(!this.currentTarget)return!0;this.draggableTargets.forEach(function(t,r){t.classList.remove("drag-over-top"),t.classList.remove("drag-over-bottom"),e[r]=t.getAttribute("data-id")}),fetch(this.element.dataset.saveUrl,{body:JSON.stringify({order_array:e}),method:"POST",dataType:"script",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(){var e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search;window.history.pushState({path:e},"",e)}),setTimeout((function(){this.currentTarget.classList.remove("selected")}).bind(this),500)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(a.Qr);o=["draggable"],(n="targets")in l?Object.defineProperty(l,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[n]=o},22447:function(e,t,r){r.r(t),r.d(t,{default:()=>u});var n,o,a=r(51527);function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var l=".block--space-group",u=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=i(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,c()?Reflect.construct(e,t||[],i(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&s(r,e),t=[{key:"connect",value:function(){this.excludeChildClass=["nav-link","space__name","block-content"],this.currentTarget=null}},{key:"dragstart",value:function(e){var t=this;if(this.excludeChildClass.some(function(t){return e.target.classList.contains(t)})?this.currentTarget=null:this.currentTarget=e.target.closest(l),this.excludeChildClass.some(function(t){return e.target.classList.contains(t)}))return!0;e.dataTransfer.setData("application/drag-key",this.currentTarget.getAttribute("data-id")),e.dataTransfer.effectAllowed="move",this.parentDraggableTargets.forEach(function(e,r){t.parentDraggableTargets.indexOf(t.currentTarget)!=r&&e.childNodes.forEach(function(e){"#text"!=e.nodeName&&(e.style.pointerEvents="none")})})}},{key:"dragover",value:function(e){return e.preventDefault(),!this.currentTarget||-1==this.parentDraggableTargets.indexOf(this.currentTarget)||""!=e.dataTransfer.getData("application/drag-key")||this.parentDraggableTargets.indexOf(e.target.closest(l))==this.parentDraggableTargets.indexOf(this.currentTarget)||(this.parentDraggableTargets.indexOf(e.target.closest(l))<this.parentDraggableTargets.indexOf(this.currentTarget)?e.target.closest(l).classList.add("drag-over-top"):e.target.closest(l).classList.add("drag-over-bottom"),!0)}},{key:"dragenter",value:function(e){e.preventDefault()}},{key:"dragleave",value:function(e){if(e.preventDefault(),!this.currentTarget)return!0;e.target.closest(l).classList.remove("drag-over-top"),e.target.closest(l).classList.remove("drag-over-bottom")}},{key:"drop",value:function(e){if(!this.currentTarget)return!0;var t=e.target.closest(l),r=this.currentTarget;if(!t||!r)return!0;var n=t.compareDocumentPosition(r);4&n?t.insertAdjacentElement("beforebegin",r):2&n&&t.insertAdjacentElement("afterend",r),e.preventDefault()}},{key:"dragend",value:function(){var e=[];if(!this.currentTarget)return!0;this.parentDraggableTargets.forEach(function(t,r){t.childNodes.forEach(function(e){"#text"!=e.nodeName&&(e.style.pointerEvents="default")}),t.classList.remove("drag-over-top"),t.classList.remove("drag-over-bottom"),e[r]=t.getAttribute("data-id")}),fetch(this.element.dataset.saveUrl,{body:JSON.stringify({order_array:e}),method:"POST",dataType:"script",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(){var e=window.location.protocol,t="//"+window.location.host,r=window.location.pathname,n=window.location.search;Turbolinks.visit(e+t+r+n)}),this.currentTarget=null}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(a.Qr);o=["parentDraggable"],(n="targets")in u?Object.defineProperty(u,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):u[n]=o},28396:function(e,t,r){r.r(t),r.d(t,{default:()=>l});var n,o,a=r(51527);function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var l=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=i(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,c()?Reflect.construct(e,t||[],i(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&s(r,e),t=[{key:"connect",value:function(){var e=this;this.toggleClass=this.data.get("class")||"hidden",(window.location.hash==this.element.dataset.path||this.element.dataset.open)&&this.toggle(),this.toggleTriggerTarget.dataset.open&&("true"==this.toggleTriggerTarget.dataset.open?(this.toggleTriggerTarget.classList.add("open"),this.toggleableTargets.forEach(function(t){t.classList.remove(e.toggleClass)})):(this.toggleTriggerTarget.classList.remove("open"),this.toggleableTargets.forEach(function(t){t.classList.add(e.toggleClass)})))}},{key:"toggle",value:function(e){var t=this;e&&e.preventDefault(),e&&"change"==e.type&&"true"!=e.target.value||(history.pushState(null,null,this.element.dataset.path),this.toggleTriggerTarget.classList.add("hidden"),this.toggleTriggerTarget.classList.toggle("open"),this.element.dataset.inputFocus&&setTimeout((function(){document.getElementById(this.element.dataset.inputFocus).focus()}).bind(this),100),this.toggleableTargets.forEach(function(e){e.classList.toggle(t.toggleClass)}))}},{key:"done",value:function(){this.toggleTriggerTarget.classList.show("hidden")}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(a.Qr);o=["toggleable","toggleTrigger"],(n="targets")in l?Object.defineProperty(l,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[n]=o},557:function(e,t,r){r.r(t),r.d(t,{default:()=>f});var n,o,a=r(51527),i=r(72530);function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}var u="is-invalid",f=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=s(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,l()?Reflect.construct(e,t||[],s(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&c(r,e),t=[{key:"checkPassword",value:function(e){return i.zU.test(e)}},{key:"validatePassword",value:function(){this.checkPassword(this.passwordFieldTarget.value)||(this.passwordErrorMessageTarget.classList.remove("hidden"),this.passwordFieldTarget.classList.add(u))}},{key:"validateConfirmPassword",value:function(){this.passwordFieldTarget.value!=this.confirmPasswordFieldTarget.value&&(this.confirmPasswordErrorMessageTarget.classList.remove("hidden"),this.confirmPasswordFieldTarget.classList.add(u))}},{key:"resetPasswordValidation",value:function(){this.passwordErrorMessageTarget.classList.add("hidden"),this.passwordFieldTarget.classList.remove(u)}},{key:"resetConfirmPasswordValidation",value:function(){this.confirmPasswordErrorMessageTarget.classList.add("hidden"),this.confirmPasswordFieldTarget.classList.remove(u)}},{key:"resetNameValidation",value:function(){this.nameErrorMessageTarget.classList.add("hidden"),this.nameFieldTarget.classList.remove(u)}},{key:"submitForm",value:function(e){e.preventDefault(),document.getElementById("confirmPassword")?this.passwordFieldTarget.value==this.confirmPasswordFieldTarget.value?this.validateAndFormSubmit():(this.confirmPasswordErrorMessageTarget.classList.remove("hidden"),this.confirmPasswordFieldTarget.classList.add(u)):this.validateAndFormSubmit()}},{key:"validateAndFormSubmit",value:function(){this.checkPassword(this.passwordFieldTarget.value)?"production"===window.RAILS_ENV||"staging"===window.RAILS_ENV?grecaptcha.execute():this.formTarget.submit():(this.passwordErrorMessageTarget.classList.remove("hidden"),this.passwordFieldTarget.classList.add(u))}},{key:"validateName",value:function(){this.nameFieldTarget.value.length>0||(this.nameErrorMessageTarget.classList.remove("hidden"),this.nameFieldTarget.classList.add(u))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(a.Qr);o=["passwordField","confirmPasswordField","passwordErrorMessage","confirmPasswordErrorMessage","form","nameErrorMessage","nameField"],(n="targets")in f?Object.defineProperty(f,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):f[n]=o}}]);
//# sourceMappingURL=/packs/js/1618-7c2d4fc79e289e45.js.map
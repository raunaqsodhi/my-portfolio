"use strict";(self.webpackChunkcircle=self.webpackChunkcircle||[]).push([["3232"],{1724:function(e,t,r){r.d(t,{u:()=>c});var n=r(85893),o=r(25125),i=r(84326),a=r(60878),l=r(32115),c=function(e){var t=e.turnstileRef,r=e.shouldShowTurnstile,c=e.dispatch,u=(0,a.pm)();return(0,n.jsx)(o.Nc,{ref:t,options:{theme:"light"},className:r?"":"hidden",onError:function(){c({type:"SET_FAILED"});var e=(0,i.t)("".concat(l.nA,".errors.failed"));u.error(e)},onExpire:function(){return c({type:"SET_FAILED"})},onSuccess:function(){return c({type:"SET_SUCCESS"})},onBeforeInteractive:function(){return c({type:"SET_INTERACTIVE"})},siteKey:window.TURNSTILE_CAPTCHA_SITE_KEY||""})}},32115:function(e,t,r){r.d(t,{nA:()=>B,gl:()=>R});var n=r(85893),o=r(67294),i=r(36808),a=r.n(i),l=r(88767),c=r(70442),u=r(84326),s=r(51630),f=r(49882),d=r(23501),m=r(72530),p=r(72917),y=r(54315),h=r(99882),b=r(51466),v=r(60878),g=r(41553),j=r(7353),x=r(65960),_=r(97398),S=r(21197),w=r(52293),O=function(){var e=(0,w.Gc)().setValue,t="authentication_app.create_community",r=(0,d.c)().currentUser,i=function(e){var r=e.first_name,n=(0,u.t)("".concat(t,".autogenerated_name.community"));return"".concat(r,"'s ").concat(n)};return(0,o.useEffect)(function(){r&&e("community[name]",i(r))},[r]),(0,n.jsx)(b.l.Item,{isFirstChild:!0,name:"community[name]",label:(0,u.t)("".concat(t,".form.name")),hideDescription:!0,hideBorder:!0,rules:{required:(0,u.t)("".concat(t,".form.errors.name_required"))},children:(0,n.jsx)(b.l.Input,{autoFocus:!0,"data-testid":"community_name"})})},A=r(29378),I=function(){var e=(0,w.Gc)(),t=e.watch,r=e.setValue,i=e.clearErrors,a=t("community[name]"),l="authentication_app.create_community";return(0,o.useEffect)(function(){r("community[slug]",(0,A.Y)(a)),i("community[slug]")},[a,r]),(0,n.jsx)(b.l.Item,{name:"community[slug]",label:(0,u.t)("".concat(l,".form.slug")),hideDescription:!0,hideBorder:!0,rules:{required:u.Z.t("".concat(l,".form.errors.slug_required"))},tooltipText:(0,u.t)("url_description_setup_custom_domain_later"),children:(0,n.jsx)(b.l.Input,{suffix:"circle.so","data-testid":"community_slug"})})},k=r(22767),E=r(39905),N=function(e){var t=e.isDisabled,r=e.isLoading,o=(0,j.A)().onboardingButtonVariant;return(0,n.jsx)("div",{className:"mt-12 w-full text-center",children:(0,n.jsx)("div",{className:"mx-auto flex w-full justify-end",children:(0,n.jsx)(E.z,{disabled:r||t,variant:o,type:"submit",className:"disabled:bg-brand disabled:text-brand-button",large:!0,children:r?(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)(k.$,{})}):(0,u.t)("".concat(B,".form.buttons.next"))})})})},T=r(1724);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function F(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function L(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}var B="authentication_app.create_community",R=function(){var e=(0,d.c)(),t=e.updateCurrentCommunity,r=e.suggestedLanguage,i=(0,c.k6)(),w=(0,v.pm)(),A=(0,_.D)(),k=A.turnstileRef,E=A.turnstileResult,C=A.dispatch,R=A.canUseTurnstile,q=A.shouldShowTurnstile,M=(0,j.A)(),V=M.totalSteps,Z=M.isLoading,$=M.isNewOnboardingFlow,z=(0,x.f)({step_number:1,total_steps:V,step:"create_community",fields:[{name:(0,u.t)("".concat(B,".form.name")),type:"text"},{name:(0,u.t)("".concat(B,".form.slug")),type:"text"}].concat(L($?[{name:(0,u.t)("authentication_app.new_onboarding_flow_april_2025.create_community.how_did_you_hear"),type:"text"}]:[])),config:{trackStartedAutomatically:!1}}),Y=z.trackStepStarted,J=z.trackStepCompleted;(0,o.useEffect)(function(){Z||Y()},[Z,Y]);var W=(0,l.useMutation)(function(e){return s.$.createCommunity(e)},{onSuccess:function(e){var r;t(e),J([e.name,e.slug].concat(L($?[(null==e||null==(r=e.sign_up_flow_responses)?void 0:r.how_did_you_hear_about_circle)||""]:[]))),i.push(f.Fy.questions(e.id))},onError:function(e){(void 0===e?"undefined":U(e))==="object"&&null!==e&&"message"in e&&w.error(String(e.message))}}),G=W.mutateAsync,X=W.isLoading,H=function(e){var t,r=e.sign_up_flow_responses,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["sign_up_flow_responses"]);return(null==r||null==(t=r.how_did_you_hear_about_circle)?void 0:t.trim())?F(D({},n),{sign_up_flow_responses:r}):n},K=a().get(m.pX);return(0,n.jsx)(b.l,{defaultValues:{community:{name:"",slug:"",plan_id:"",coupon_code:K}},onSubmit:function(e){var t;return(t=function(){var t,r,n,o,i;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),r=R?null==(t=k.current)?void 0:t.getResponse():null,n=H(e.community),[4,G(D(F(D({},e),{community:n}),r&&{turnstile_token:r}))];case 1:return a.sent(),[3,3];case 2:return(void 0===(o=a.sent())?"undefined":U(o))==="object"&&null!==o&&"message"in o&&(i=String(null==o?void 0:o.message)||(0,u.t)("community.creation_failed.generic"),w.error(i)),[3,3];case 3:return[2]}})},function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){P(i,n,o,a,l,"next",e)}function l(e){P(i,n,o,a,l,"throw",e)}a(void 0)})})()},children:function(e){var t=(0,e.watch)("community[name]")||"";return(0,n.jsxs)(S.n,{title:(0,u.t)("".concat(B,".title")),subtitle:(0,u.t)("".concat(B,".subtitle")),progress:{new:{currentStep:1,totalSteps:V},legacy:"".concat(1,"/").concat(V)},rightPanel:(0,n.jsx)(p.j,{communityName:t,animateOnMount:!0,shimmerTitle:!0}),background:"light",children:[(0,n.jsx)(y.V,{title:(0,u.t)("".concat(B,".page_title"))}),(0,n.jsxs)("div",{children:[(0,n.jsx)(O,{}),(0,n.jsx)(I,{}),$&&(0,n.jsx)(b.l.Item,{name:"community[sign_up_flow_responses][how_did_you_hear_about_circle]",label:(0,n.jsxs)(n.Fragment,{children:[(0,u.t)("authentication_app.new_onboarding_flow_april_2025.create_community.how_did_you_hear")," ",(0,n.jsxs)(g.Z.LabelXs,{color:"text-subtle",as:"span",children:["(",(0,u.t)("authentication_app.create_community.optional"),")"]})]}),hideDescription:!0,hideBorder:!0,children:(0,n.jsx)(b.l.Input,{"data-testid":"how_did_you_hear_about_circle"})}),r&&(0,n.jsx)(b.l.Item,{name:"community[locale]",label:(0,u.t)("".concat(B,".form.locale")),hideDescription:!0,hideBorder:!0,rules:{required:u.Z.t("".concat(B,".form.errors.locale_required"))},tooltipText:(0,u.t)("".concat(B,".form.locale_tooltip")),children:(0,n.jsx)(b.l.SelectNative,{name:"locale",options:h.h,defaultValue:r})}),(0,n.jsx)(b.l.Item,{hiddenField:!0,name:"community[coupon_code]",hideDescription:!0,hideBorder:!0,hideLabel:!0,children:(0,n.jsx)(b.l.Input,{type:"hidden"})}),(0,n.jsx)(b.l.Item,{hiddenField:!0,name:"community[plan_id]",hideDescription:!0,hideBorder:!0,hideLabel:!0,children:(0,n.jsx)(b.l.Input,{type:"hidden"})}),(0,n.jsx)("div",{className:"mt-1 flex w-full items-center justify-center",children:(0,n.jsx)(T.u,{turnstileRef:k,shouldShowTurnstile:q,dispatch:C})}),(0,n.jsx)(N,{isDisabled:E.requiresInteraction&&!E.isInteractionSuccessful||E.hasFailed,isLoading:X||E.isLoading})]})]})}})}},64239:function(e,t,r){r.d(t,{_V:()=>i,ai:()=>n,zg:()=>o});var n=function(e){return["production","staging"].includes(e)},o=function(e){return["production","staging","development"].includes(e)},i=function(){var e;return(null==(e=document.querySelector('meta[name="csrf-token"]'))?void 0:e.getAttribute("content"))||""}},65960:function(e,t,r){r.d(t,{f:()=>c});var n=r(67294),o=r(90809),i=r(7353);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=function(e){var t=e.step_number,r=e.total_steps,a=e.step,c=e.fields,u=e.config,s=void 0===u?{trackStartedAutomatically:!0}:u,f=(0,o.C)().trackEvent,d=l((0,n.useState)(new Date),1)[0],m=l((0,n.useState)(!1),2)[1],p=l((0,n.useState)(!1),2)[1],y=l((0,n.useState)(!1),2),h=y[0],b=y[1],v=(0,i.A)().isNewOnboardingFlow;(0,n.useEffect)(function(){s.trackStartedAutomatically&&g()},[]);var g=(0,n.useCallback)(function(){m(function(e){return e||(f("onboarding.step.started",{step_number:t,total_steps:r,step:a,started_at:d,fields:c,isNewOnboardingFlow:v}),!0)})},[m,d,t,a,r,f,c,v]);return{trackStepStarted:g,trackStepCompleted:(0,n.useCallback)(function(e){p(function(n){return n||(f("onboarding.step.completed",{step_number:t,total_steps:r,step:a,started_at:d,completed_at:new Date,fields:c.map(function(t,r){var n,o;return n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},t),o=o={value:e[r]},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}),n}),isNewOnboardingFlow:v}),!0)})},[p,d,t,a,r,f,c,v]),trackCommunitySetupCompleted:(0,n.useCallback)(function(e){var t=e.isBusiness;h||(f("community.setup.completed",{isBusiness:t,isNewOnboardingFlow:v}),b(!0))},[h,f,v])}}},97398:function(e,t,r){r.d(t,{D:()=>u});var n=r(67294),o=r(64239);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var c=function(e,t){switch(t.type){case"SET_FAILED":return l(a({},e),{isLoading:!1,hasFailed:!0,requiresInteraction:!1,isInteractionSuccessful:!1});case"SET_SUCCESS":return l(a({},e),{isLoading:!1,hasFailed:!1,requiresInteraction:e.requiresInteraction,isInteractionSuccessful:e.requiresInteraction});case"SET_INTERACTIVE":return l(a({},e),{isLoading:!1,hasFailed:!1,requiresInteraction:!0,isInteractionSuccessful:!1});default:return e}},u=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=!t&&(0,o.zg)(window.RAILS_ENV),a=(0,n.createRef)(),l=(e=(0,n.useReducer)(c,{isLoading:r,hasFailed:!1,requiresInteraction:!1,isInteractionSuccessful:!1}),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],s=l[1],f=r&&!u.isLoading&&(u.requiresInteraction||u.hasFailed);return{turnstileRef:a,turnstileResult:u,dispatch:s,canUseTurnstile:r,shouldShowTurnstile:f}}},72917:function(e,t,r){r.d(t,{j:()=>B});var n=r(85893),o=r(52293),i=r(84326),a=r(41553),l=function(e){var t=e.value,r=e.children,o=e.animate;return void 0===o||o?(0,n.jsxs)("div",{className:"block w-auto translate-y-0 opacity-100 transition-all duration-300 ease-out",children:[(0,n.jsx)("div",{className:"animate-fade-slide-in block w-full translate-y-2 opacity-0",children:r}),(0,n.jsx)("style",{children:"\n        .animate-fade-slide-in {\n          animation: fadeSlideUp 1s cubic-bezier(0.4,0,0.2,1);\n          animation-fill-mode: forwards;\n        }\n        @keyframes fadeSlideUp {\n          0% {\n            opacity: 0;\n            transform: translateY(8px);\n          }\n          100% {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n      "})]},String(t)):(0,n.jsx)("div",{children:r},"".concat(t))},c=function(e){var t=e.content;return(0,n.jsx)(a.Z.BodySm,{color:"text-default",children:t})},u=function(){return(0,n.jsx)("div",{className:"h-3 w-1/2 animate-pulse rounded bg-gray-200 dark:bg-gray-700"})},s=function(e){var t=e.shouldShowSkeleton,r=e.value,o=e.shouldAnimate;return t?(0,n.jsx)(u,{}):(0,n.jsx)(l,{value:null!=r?r:"",animate:o,children:(0,n.jsx)(c,{content:null!=r?r:""})})},f=r(1168),d=function(e){var t=e.label;return(0,n.jsx)("div",{className:(0,f.A)("rounded-full border border-[#4614C9] bg-white px-2.5 py-1 text-sm text-[#4614C9]"),children:(0,n.jsx)(a.Z.LabelXs,{color:"text-primary",children:t})})},m=function(e){var t=e.blocks;return(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(function(e){return(0,n.jsx)(d,{label:e},e)})})},p=r(98363),y=function(e){var t=e.fullName,r=e.email,o=e.initials,i=e.avatar_url;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(a.Z.TitleSm,{color:"text-default",weight:"bold",children:t}),(0,n.jsx)(a.Z.BodySm,{color:"text-default",children:r})]}),(0,n.jsx)("div",{className:"flex h-10 w-10 items-center justify-center overflow-hidden rounded-full bg-gray-200",children:i?(0,n.jsx)(p.s,{src:i,name:t,size:"10"}):(0,n.jsx)(a.Z.BodySm,{color:"text-default",children:o})})]})},h=r(67294),b=r(23501);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function g(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}var x=function(e,t){if(!e&&!t)return"";var r=[];return e&&r.push(g(e)[0]),t&&r.push(g(t)[0]),r.join("").toUpperCase()},_=function(e,t,r,n,o){var i,a,l,c,u,s=(0,b.c)(),f=s.currentUser,d=s.currentCommunity,m=null!=(c=null==f?void 0:f.first_name)?c:"",p=null!=(u=null==f?void 0:f.last_name)?u:"",y=x(m,p),v=[m,p].filter(Boolean).join(" "),g=null==d||null==(a=d.sign_up_flow_responses)?void 0:a.customer_journey_stage,_=null==d||null==(l=d.sign_up_flow_responses)?void 0:l.achieve_with_circle,S=e||(null==d?void 0:d.name)||"",w=null==d?void 0:d.slug,O=o||S,A=(i=(0,h.useState)(!1),function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(i,2)||j(i,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),I=A[0],k=A[1],E=(0,h.useRef)(o);return(0,h.useEffect)(function(){I||void 0===o||o===E.current||k(!0)},[o,I]),{displayName:S,customerJourneyStage:g,achieveWithCircle:_,buildingBlocks:null!=t?t:[],userInitials:y,fullName:v,email:null==f?void 0:f.email,avatar_url:null==f?void 0:f.avatar_url,shouldAnimateCustomerJourneyStage:"customerJourneyStage"===r,shouldAnimateAchieveWithCircle:"achieveWithCircle"===r,slug:w,slugToUse:n||w,nameToUse:O,hasUserModifiedName:I}};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var w=function(e){var t,r=e.children,o=(0,h.useRef)(null),i=(0,h.useRef)(null),a=(t=(0,h.useState)(void 0),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return S(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],c=a[1];return(0,h.useLayoutEffect)(function(){i.current&&c(i.current.offsetHeight)}),(0,n.jsx)("div",{ref:o,style:{height:void 0!==l?"".concat(l,"px"):"auto",transition:"height 0.3s cubic-bezier(0.4, 0, 0.2, 1)",overflow:"hidden"},"aria-live":"polite",children:(0,n.jsx)("div",{ref:i,children:r})})};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(e){var t=e.children,r=e.enabled,o=void 0!==r&&r,i=A((0,h.useState)(!1),2),a=i[0],l=i[1],c=A((0,h.useState)(!1),2),u=c[0],s=c[1];(0,h.useEffect)(function(){o&&l(!0)},[o]);var f={};return o&&!u&&(f=a?{animation:"fadeInDownLocal 0.6s ease-out forwards"}:{opacity:0}),(0,n.jsxs)("div",{style:f,onAnimationEnd:function(){return s(!0)},children:[o&&!u&&(0,n.jsx)("style",{children:"\n  @keyframes fadeInDownLocal {\n    0% {\n      opacity: 0;\n      transform: translateY(-100px);\n    }\n    100% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n"}),t]})},k=function(e){var t=e.children,r=e.animateOnMount;return(0,n.jsx)(I,{enabled:r,children:(0,n.jsx)(w,{children:(0,n.jsx)("div",{className:"overflow-hidden rounded-3xl bg-white",children:t})})})},E=function(e){var t=e.label,r=e.children;return(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("div",{className:"mb-1",children:(0,n.jsx)("span",{className:"bg-gradient-to-r from-purple-600 to-fuchsia-600 bg-clip-text",children:(0,n.jsx)(a.Z.LabelSm,{color:"text-transparent",weight:"semibold",children:t})})}),r]})},N=function(e){var t=e.children,r=e.className;return(0,n.jsx)("div",{className:(0,f.A)("p-7",r),children:t})},T=r(4568);let C="Tbwz1t_VAgI9YD1w",P="FGRUpQVrDkntV1Z7";function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var F=function(e){var t,r=e.children,o=e.className,i=e.animate,a=void 0!==i&&i,l=(t=(0,h.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return D(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1];return((0,h.useEffect)(function(){if(a){var e,t,r=function(){u(!0),e=setTimeout(function(){return u(!1)},1e3)};return e=setTimeout(function(){r(),t=setInterval(r,1e4)},2e3),function(){clearTimeout(e),clearInterval(t)}}},[a]),a&&c)?(0,n.jsx)("span",{className:o?"".concat(C," ").concat(o):C,children:r}):(0,n.jsx)("span",{className:o?"".concat(P," ").concat(o):P,children:r})},L=function(e){var t=e.title,r=e.subtitle,o=e.shimmer;return(0,n.jsxs)("div",{className:"mb-7",children:[(0,n.jsx)(a.Z.LabelXs,{textTransform:"uppercase",weight:"semibold",color:"text-light",children:r}),t?(0,n.jsx)(a.Z.TitleLg,{color:"text-black-900",tracking:"tighter",weight:"bold",children:(0,n.jsx)(F,{animate:void 0!==o&&o,children:t})}):(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(T.X,{xxl:!0,almostFull:!0})})]})},U=function(e){var t=e.children;return(0,n.jsx)("div",{className:"border-default border-t bg-gray-100 p-7",children:(0,n.jsx)("div",{className:"flex items-center justify-between gap-4",children:t})})},B=function(e){var t=e.communityName,r=e.buildingBlocks,l=e.animateOnMount,c=e.animateField,u=e.shimmerTitle,f=e.showSkeletonForCustomerJourneyStage,d=e.showSkeletonForAchieveWithCircle,p="authentication_app.new_onboarding_flow_april_2025.community_preview",h=(0,o.Gc)(),b=_(t,r,c,null==h?void 0:h.watch("community[slug]"),null==h?void 0:h.watch("community[name]")),v=b.customerJourneyStage,g=b.achieveWithCircle,j=b.buildingBlocks,x=b.userInitials,S=b.fullName,w=b.email,O=b.avatar_url,A=b.shouldAnimateCustomerJourneyStage,I=b.shouldAnimateAchieveWithCircle,T=b.slugToUse,C=b.nameToUse,P=b.hasUserModifiedName,D=f||!!v,F=f||!v,B=d||!!g,R=d||!g;return(0,n.jsxs)(k,{animateOnMount:l,children:[(0,n.jsxs)(N,{children:[(0,n.jsx)(L,{subtitle:(0,i.t)("".concat(p,".title")),title:C,shimmer:void 0!==u&&u&&!P}),T&&(0,n.jsx)(E,{label:(0,i.t)("".concat(p,".community_url")),children:(0,n.jsx)(a.Z.BodySm,{color:"text-default",children:"https://".concat(T,".circle.so")})}),D&&(0,n.jsx)(E,{label:(0,i.t)("".concat(p,".journey_stage")),children:(0,n.jsx)(s,{shouldShowSkeleton:F,value:v,shouldAnimate:A})}),B&&(0,n.jsx)(E,{label:(0,i.t)("".concat(p,".achieve_with_circle")),children:(0,n.jsx)(s,{shouldShowSkeleton:R,value:g,shouldAnimate:I})}),j.length>0&&(0,n.jsx)(E,{label:(0,i.t)("".concat(p,".blocks_title")),children:(0,n.jsx)(m,{blocks:j})})]}),(0,n.jsx)(U,{children:(0,n.jsx)(y,{fullName:S,email:w,initials:x,avatar_url:O})})]})}},99882:function(e,t,r){r.d(t,{h:()=>o});var n=r(84326),o=["en","pt"].map(function(e){return{label:(0,n.t)("supported_locales.locale_name.".concat(e)),value:e}})}}]);
//# sourceMappingURL=/packs/js/3232-0c72ba4aaa0d4977.js.map